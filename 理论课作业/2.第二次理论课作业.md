# 第二次理论课作业

1. 位图：$128\,\text{MB}=2^{27}\,\text{B}$，有 $\dfrac{2^{27}}n$ 个单元，使用位图需 $\dfrac{2^{27}}n\,\text{b}=\dfrac{2^{24}}n\,\text{B}$，

   链表：$\dfrac{128\,\text{MB}}{64\,\text{KB}}\times64\,\text{b}=2^{17}\,{b}=2^{14}\,\text{B}$。

   故若 $n$ 小于 $2^{10}$ ，链表较好，否则位图较好。

2. - FirstFit：$20\,\text{KB}, 10\,\text{KB}, 18\,\text{KB}$。

   - BestFit：$12\,\text{KB},10\,\text{KB}, 9\,\text{KB}$。

   - WorstFit：$20\,\text{KB},18\,\text{KB},15\,\text{KB}$。

   - NextFit：$20\,\text{KB},18\,\text{KB},9\,\text{KB}$。

3. - 逻辑地址是指由程序产生的与段相关的偏移地址部分。它是机器语言指令中，用来指定一个操作数或者是一条指令的地址。
   - 物理地址是指内存中各个单元的单元号，是真实存在的唯一地址。
   - 地址映射是指将用户程序中的逻辑地址转换为运行时由机器直接寻址的物理地址的过程。

4. 页表是为了记录页号向对应物理页的映射，而段表是为了记录段号向对应基地址的映射，以便进行地址转换。

   快表用于存放部分页表或段表，以便更快速地找到对应物理地址。

   转换过程：根据特定逻辑地址，先在快表中查页号，命中则直接得到物理页号，否则在页表中查找并替换入快表得到，再将物理页加页内偏移得到物理地址。

5. 1. 陷入内核态，保存上下文信息
   2. 查找对应地址，若无效则杀死进程
   3. 查找空闲页框，若不存在则换出一页
   4. 将外存中页面复制至对应页，并更新页表项
   5. 恢复上下文并回到中断处继续执行

6. （1）节省页表存储空间

   （2）页面大小 $16\,\text{KB}=2^{14}\,\text B$ ，页内偏移 $14$ 位

   页表项 $4$ 字节，$2$ 位，故二级页表 $14-2=12$ 位，一级页表 $38-14-12=12$ 位。

7. （1）不符合局部性原理的访问，三种算法产生的中断相同

   （2）将大部分页面映射到固定页框，每次只置换同一个页面

8. $128\,\text{MB} = 2^{27}\,\text{B} = 2^{25}\,\text{words}$，读写每个 $\text{word}$ 都需要 $10\,\text{nsec}$，故紧缩一个 $\text{word}$ 需要 $20\,\text{nsec}$，紧缩 $128\text{MB}$ 内存需要 $2^{25}\times20\,\text{nsec}=671088640\,\text{nsec}=0.671\,\text{sec}$。